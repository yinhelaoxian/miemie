<view class="container">
  <!-- 拍照按钮 -->
  <button bindtap="takePhoto" class="btn-take">📸 拍照录入错题</button>

  <!-- image-cropper 剪裁器 -->
  <view wx:if="{{isCropperShow}}" class="cropper-container">
    <image-cropper
      id="imageCropper"
      src="{{src}}"
      scale-number="{{1.5}}"
      cut="{{cutArea}}"
      bind:ok="onCropOk"
      bind:cancel="onCropCancel"
    ></image-cropper>
  </view>

  <!-- 操作按钮 -->
  <view wx:if="{{!isCropperShow && src}}" class="action-buttons">
    <button bindtap="confirmCrop" class="btn-confirm">✅ 使用剪裁结果</button>
    <button bindtap="uploadImage" class="btn-upload" disabled="{{!croppedImagePath}}">
      📤 上传到云端
    </button>
    <button bindtap="reTake" class="btn-retake">🔁 重新拍照</button>
  </view>

  <!-- 加载提示 -->
  <view wx:if="{{loading}}" class="loading-mask">
    <view class="loading-toast">
      <loading />
      <text>{{loadingText}}</text>
    </view>
  </view>
</view>