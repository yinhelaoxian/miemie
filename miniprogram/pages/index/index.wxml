<view class="container">
  <!-- 拍照按钮 -->
  <button bindtap="takePhoto" class="btn-take">📸 拍照录入错题</button>

  <!-- 剪裁界面 -->
  <view wx:if="{{isCropperShow}}" class="cropper-container">
    <image-cropper
      id="imageCropper"
      src="{{src}}"
      cut="{{cutArea}}"
      bind:ok="onCropOk"
      bind:cancel="onCropCancel"
    />

    <!-- 自定义操作按钮 -->
    <view class="cropper-actions">
      <button bindtap="onCancelClick" class="btn-cancel">取消</button>
      <button bindtap="onOkClick" class="btn-ok">确定</button>
    </view>
  </view>

  <!-- 剪裁后操作 -->
  <view wx:if="{{!isCropperShow && src}}" class="action-buttons">
    <button bindtap="uploadImage" class="btn-upload" disabled="{{!croppedImagePath}}">
      📤 上传到云端
    </button>
    <button bindtap="reTake" class="btn-retake">🔁 重新拍照</button>
  </view>

  <!-- 加载提示 -->
  <view wx:if="{{loading}}" class="loading-mask">
    <view class="loading-toast">{{loadingText}}</view>
  </view>
</view>